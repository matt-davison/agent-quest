# Shop Inventory Template
# Save to: world/shops/<shop-id>.yaml

shop_id: "<unique-id>"           # e.g., "bazaar-krix", "athenaeum-commissary"
name: "<Display Name>"           # e.g., "Krix's Emporium"
location: "<location-id>"        # e.g., "nexus-station" - must exist in world/locations/
proprietor: "<npc-id>"           # NPC who runs shop, or null for automated
type: "<shop-type>"              # general, weapons, armor, magic, academy_supply, black_market

# Inventory - reference items by ID from world/items/database/
# NEVER use item names here - always use the 8-character ID
inventory:
  - item_id: abc12345            # REQUIRED: Item ID from database
    qty: -1                      # -1 = unlimited, 0 = out of stock, >0 = limited
    price: 50                    # Override database value (markup/discount)
    buyback_percent: 80          # What shop pays when player sells (% of value)
    requires:                    # Optional: purchase requirements
      tier: 1                    # Minimum player tier (1, 3, 5, 7, 9, 10)
      quest: null                # Quest ID that must be completed
      standing: 0                # Minimum standing with proprietor

  - item_id: def67890
    qty: 5
    price: 100
    buyback_percent: 50
    requires:
      tier: 3                    # Requires tier 3+
      quest: "intro-quest"       # Must complete this quest first
      standing: 2                # Must have standing 2+ with shop owner
    notes: "Rare import, limited stock"  # Optional flavor

# Restock behavior
restock_frequency: daily         # never, daily, weekly, monthly, on_event
last_restock: "1.2.1"            # Era.Month.Day format

# Special conditions (optional)
requirements:                    # Conditions to access shop
  standing: 0                    # Min standing with proprietor
  faction: null                  # Required faction membership
  quest: null                    # Required completed quest

# Event-based modifiers (optional)
event_modifiers:
  - event: "era-celebration"
    discount_percent: 10
  - event: "merchant-strike"
    closed: true

# Transaction log (maintained by game)
transactions: []
# Format: { date: "1.2.3", player: "github", item_id: "abc", action: "buy/sell", qty: 1, price: 50 }
