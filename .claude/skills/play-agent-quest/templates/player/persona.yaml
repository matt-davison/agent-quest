# Agent Quest Persona Template
# Copy this file to: players/<your-name>/persona.yaml

# === IDENTITY ===
name: "" # Your character's name
class: "" # Codebreaker, Loresmith, Voidwalker, or Datamancer
backstory: |
  # Write 2-3 sentences about your character's origin.
  # Where did they come from? How did they discover their Weaver abilities?
  # What drives them?

appearance: |
  # Physical description - height, build, notable features
  # Clothing and style
  # Any cybernetic enhancements or magical marks?

# === STATS ===
# Base: 10 in each stat. You have 10 bonus points to distribute.
# Class bonuses are added automatically:
#   Codebreaker: +3 STR, +2 AGI, base HP 120
#   Loresmith:   +3 MND, +2 SPI, starts with 100 gold
#   Voidwalker:  +3 AGI, +2 MND, +5 inventory slots
#   Datamancer:  +3 SPI, +2 MND, +20% willpower recovery

stats:
  strength: 10 # Physical power, melee combat
  agility: 10 # Speed, reflexes, ranged combat
  mind: 10 # Intelligence, hacking, puzzles
  spirit: 10 # Willpower, magic, Weave manipulation
  derived:
    inventory_capacity: 10  # Calculated: 10 + (MND_mod×3) + (AGI_mod×1) + class_bonus
                            # Voidwalker gets +5 class bonus

# === RESOURCES ===
resources:
  hp: 100                   # Codebreakers start with 120
  max_hp: 100
  gold: 50                  # Loresmiths start with 100
  willpower: 20             # Current willpower (mana pool)
  max_willpower: 20         # Calculated: spirit × willpower_multiplier
  willpower_multiplier: 2   # Base is 2, can increase via items, training, leveling

# === ABILITIES ===
# All abilities must reference IDs from world/abilities/database/
# Use: node .claude/skills/abilities/abilities.js list --class=<your-class>
abilities:
  # Known abilities with their current level
  known:
    # - id: "abilityid"        # 8-char ID from database
    #   level: 1               # Current level (1, 2, etc.)
    #   source: "class"        # How learned: class, training:<location>, quest, item
    #   learned_date: "YYYY-MM-DD"
    #
    # Example for Codebreaker:
    # - id: "iklvbklj"         # Shatter
    #   level: 1
    #   source: "class"
    #   learned_date: "2026-02-04"
    # - id: "fayrdef5"         # Momentum (passive)
    #   level: 1
    #   source: "class"
    #   learned_date: "2026-02-04"

  # Usage tracking by reset type
  # Keys are ability IDs, values are use counts
  usage:
    combat: {}              # Resets at end of combat
    short_rest: {}          # Resets after 10-minute rest
    long_rest: {}           # Resets after 8-hour rest
    location: {}            # Resets on location change
    daily: {}               # Resets at dawn

  # Active temporary effects from abilities
  active_effects: []
    # - ability_id: "po5wumfb"  # Iron Skin
    #   effect: "defense_bonus"
    #   value: 4
    #   rounds_remaining: 3

# === INVENTORY ===
# Starting equipment by class (see rules/classes.md):
#   Codebreaker: Hex Breaker, Scrap Plating, Barrier Charge x2
#   Loresmith:   Tome of Echoes, Diplomat's Attire, Scholar's Lens x3
#   Voidwalker:  Null Blade, Shadowweave Cloak, Lockpick Set, Smoke Bomb x3
#   Datamancer:  Weave Focus, Data Robes, Reality Anchor x2, Blank Scroll x3
inventory:
  # - item_name: quantity
  # Example:
  # - healing_potion: 2
  # - smoke_bomb: 3

equipped:
  weapon: "" # e.g., "hex_breaker", "null_blade"
  armor: "" # e.g., "scrap_plating", "data_robes"
  accessory: "" # e.g., "tome_of_echoes", "weave_focus"

# === PROGRESSION ===
# See rules/progression.md for XP sources and leveling
progression:
  level: 1              # Character level (1-10)
  xp: 0                 # Current XP
  xp_to_next: 100       # XP threshold for next level
  tier: 1               # Ability/item unlock tier (1, 3, 5, 7, 9, 10)
  stat_points: 0        # Unspent stat points (gained at even levels)

# === DIFFICULTY ===
# Personal difficulty setting affects combat modifiers
# Can be changed at any safe zone
difficulty:
  setting: normal  # easy | normal | hard | nightmare
  # Easy:      Take 0.6× damage, deal 1.1× damage, 0.8× XP, normal loot
  # Normal:    Baseline - all modifiers at 1.0×
  # Hard:      Take 1.3× damage, deal 0.95× damage, 1.2× XP, 1.15× loot chance
  # Nightmare: Take 1.6× damage, deal 0.85× damage, 1.4× XP, 1.3× loot chance

# === LOCATION ===
location: "nexus-station" # Current location ID
# Quest progress is tracked in a separate file: quests.yaml (same directory)

# === HOMES ===
# Properties owned by this persona (optional)
# See rules/housing.md for home ownership system
homes: []
# Example:
# - location_id: "lumina-city"
#   property_id: "lc-apt-42"
#   name: "Midstreet Apartment 42"
#   type: "apartment"
#   tier: 1
#   acquired_date: "2026-02-05"
#   purchase_price: 500
#   upgrades: []
#   storage:
#     max_slots: 20
#     items: []
#   benefits:
#     - "Can participate in Lumina City politics"
#     - "Respawn point option"
#     - "Fast travel destination"
#   total_invested: 500

# === CHRONICLE ===
# Significant events in your character's history
# Each entry should capture not just WHAT happened but the narrative detail
# For campaign events, include campaign and chapter context
chronicle:
  # - session: 1
  #   date: "YYYY-MM-DD"
  #   time: "morning"              # In-game time period
  #   location: "location-id"
  #   type: "discovery"            # combat, discovery, quest, social, exploration, milestone, decision, trade
  #   event: "Short headline of what happened"
  #   detail: |
  #     2-4 sentence narrative description. What happened, how it felt,
  #     what it means. This is the primary record of the character's story.
  #     Write it like prose, not a log entry.
  #   npcs: ["npc-name"]           # NPCs involved
  #   items: []                    # Items gained/lost/used
  #   significance: "moderate"     # minor, moderate, major, critical
  #   campaign: "campaign-id"      # Optional: if part of a campaign
  #   chapter: "chapter-id"        # Optional: specific chapter
  #   # --- Factual log (no prose, machine-readable) ---
  #   facts: []                    # Atomic state changes caused by this event
  #     # Uses same types as session-recap event_log:
  #     # - { type: "stat_change", field: "hp", old: 100, new: 85, cause: "combat" }
  #     # - { type: "item_gained", item_id: "abc123", item_name: "Data Chip", qty: 1 }
  #     # - { type: "npc_standing", npc_id: "x", npc_name: "Y", old: 0, new: 2 }
  #     # - { type: "quest_progress", quest_id: "x", objective: "y", status: "complete" }
  #     # - { type: "knowledge_gained", topic: "First Server location", source: "data chip" }
  #     # - { type: "flag_set", flag: "knows_vera_secret", value: true }
  #
  # Example:
  # - session: 1
  #   date: "2026-02-02"
  #   time: "dawn"
  #   location: "nexus-station"
  #   type: "milestone"
  #   event: "Awakened to Weaver abilities at Nexus Station"
  #   detail: |
  #     The terminal flickered to life unbidden. Letters formed that weren't
  #     typed. For the first time, the Weave spoke — and you understood.
  #     Nev was waiting, as if she'd known you'd come.
  #   npcs: ["Nev"]
  #   significance: "critical"
  #   facts:
  #     - { type: "npc_met", npc_id: "nev", npc_name: "Nev", location: "nexus-station" }
  #     - { type: "item_gained", item_id: "gjxz6odq", item_name: "Weaver's Sigil", qty: 1 }
  #     - { type: "stat_change", field: "gold", old: 0, new: 25, cause: "quest:first-steps" }
  #
  # Example with campaign context:
  # - session: 2
  #   date: "2026-02-03"
  #   time: "evening"
  #   location: "nexus-undercrypt"
  #   type: "discovery"
  #   event: "Found the first fragment of the Third Architect"
  #   detail: |
  #     Deep in the Recursion Library, behind a shelf that shouldn't exist,
  #     the tome was waiting. Its pages moved on their own. A voice — not
  #     sound, but meaning — said: "You are the first to read me in a
  #     thousand renders." The fragment burned cold against your palm.
  #   npcs: []
  #   items: ["Architect Fragment"]
  #   significance: "major"
  #   campaign: "the-architects-truth"
  #   chapter: "chapter-1-3"
  #   facts:
  #     - { type: "item_gained", item_id: "frag001", item_name: "Architect Fragment", qty: 1 }
  #     - { type: "quest_progress", quest_id: "the-architects-truth", objective: "find-fragment-1", status: "complete" }
  #     - { type: "knowledge_gained", topic: "Third Architect exists", source: "fragment tome" }
  #     - { type: "flag_set", flag: "found_architect_fragment_1", value: true }
  #   campaign: "the-architects-truth"
  #   chapter: "chapter-1-3"

# === ALIGNMENT ===
# Your character's behavioral profile based on tracked decisions
# This affects what choices are naturally available to you
alignment:
  primary: "neutral"  # altruistic|ruthless|pragmatic|curious|cautious|neutral
  secondary: null      # Optional second trait

  # Alignment axes (calculated from decisions, -10 to +10)
  axes:
    empathy: 0      # -10 selfish, +10 altruistic
    order: 0       # -10 chaotic, +10 lawful
    risk: 0         # -10 cautious, +10 bold

  # Alignment history tracks shifts over time (for character arc)
  # Automatically updated when alignment changes significantly
  history:
    # - date: "YYYY-MM-DD"
    #   previous_primary: "neutral"
    #   new_primary: "curious"
    #   trigger: "Description of what caused the shift"
    #   campaign: "campaign-id"  # Optional

# === AFFLICTIONS ===
# Status effects and willpower backlash afflictions
# See rules/afflictions.md for full list and cures
afflictions:
  # Example physical condition:
  # - name: "Poisoned"
  #   category: "physical"
  #   effect: "-2 to all rolls, lose 3 HP per round"
  #   acquired: "2026-02-03"
  #   duration: "until cured"
  #   source: "Corrupted Rat bite in Rustlands"
  #
  # Example Willpower Backlash:
  # - name: "Phase Drift"
  #   category: "spatial"
  #   effect: "-2 Defense, 50% attack/damage negation both ways"
  #   acquired: "2026-02-03"
  #   duration: "3 encounters"
  #   encounters_remaining: 3
  #   source: "Emergency Exit from corrupted zone"

# === DECISIONS ===
# Key choices that reveal your character's nature
# These build your alignment profile and affect future options
# For campaign decisions, link to consequences for full tracking
decisions:
  # - date: "YYYY-MM-DD"
  #   context: "Brief situation description"
  #   choice: "What you decided"
  #   alignment: "altruistic|selfish|ruthless|pragmatic|curious|cautious|lawful|chaotic"
  #   natural: true  # Was this aligned with your character?
  #   willpower_spent: 0  # Cost to break character (0 if natural)
  #   notes: "Optional - how this reflects character growth"
  #   campaign: "campaign-id"         # Optional: campaign context
  #   chapter: "chapter-id"           # Optional: chapter context
  #   consequence_id: "consequence-XXX"  # Optional: link to consequences.yaml
  #
  # Example - natural aligned choice:
  # - date: "2026-02-02"
  #   context: "Merchant offered smuggled Weave artifacts"
  #   choice: "Refused to buy, reported to authorities"
  #   alignment: "lawful"
  #   natural: true
  #   willpower_spent: 0
  #   notes: "Character prioritizes order over personal gain"
  #
  # Example - breaking character:
  # - date: "2026-02-02"
  #   context: "Captured enemy begged for mercy"
  #   choice: "Spared their life despite orders to execute"
  #   alignment: "altruistic"
  #   natural: false
  #   willpower_spent: 1
  #   notes: "Ruthless character showing unexpected mercy (cost 1 willpower)"
  #
  # Example - campaign decision with consequence:
  # - date: "2026-02-05"
  #   context: "The Guardian offered three paths to the fragment"
  #   choice: "Chose to understand rather than fight"
  #   alignment: "empathetic"
  #   natural: true
  #   willpower_spent: 0
  #   campaign: "the-architects-truth"
  #   chapter: "chapter-2-2"
  #   consequence_id: "consequence-012"
  #   notes: "This unlocked the Guardian ally ending path"

# === RELATED FILES ===
# Additional per-character tracking (create when needed):
#
# consequences.yaml - Tracks decision ripple effects
#   See templates/consequence-tracker.yaml
#
# relationships.yaml - Tracks NPC standings and dialogue
#   See templates/relationships.yaml
#
# campaign-progress.yaml - Tracks campaign state
#   See templates/campaign-progress.yaml
