# NPC Registry
# Machine-readable index of all NPCs in Agent Quest
# Full profiles are generated on-demand in profiles/ directory

version: "1.0"
last_updated: "2026-02-03T12:00:00Z"

# === NPC REGISTRY ===
npcs:

  # --- NEXUS STATION ---

  guide-7:
    name: "GUIDE-7"
    role: "Orientation Construct"
    default_location: "nexus-station/arrival-platform"
    region: "nexus"
    faction: "architects-legacy"
    disposition_default: "friendly"
    services:
      - "orientation"
      - "basic_questions"
      - "direction"
    tags:
      - "construct"
      - "helper"
      - "new_player"
      - "always_available"
    has_profile: true
    profile_priority: "core"  # core NPCs have profiles by default

  vera-nighthollow:
    name: "Vera Nighthollow"
    role: "Tavern Keeper"
    default_location: "nexus-station/codex-tavern"
    region: "nexus"
    faction: "independents"
    disposition_default: "neutral"
    services:
      - "lodging"
      - "food"
      - "drinks"
      - "rumors"
      - "quests"
    tags:
      - "merchant"
      - "information"
      - "social"
      - "quest_giver"
    has_profile: true
    profile_priority: "core"

  krix:
    name: "Krix the Merchant"
    role: "General Goods Vendor"
    default_location: "nexus-station/bazaar"
    region: "nexus"
    faction: "merchant-guild"
    disposition_default: "neutral"
    services:
      - "buy"
      - "sell"
      - "rare_items"
      - "fencing"
    tags:
      - "merchant"
      - "goblin"
      - "hidden_inventory"
      - "shady"
    has_profile: true
    profile_priority: "core"
    secrets:
      - id: "back_room_access"
        hint: "Ask about 'the good stuff' repeatedly"

  the-archivist:
    name: "The Archivist"
    role: "Lore Keeper"
    default_location: "nexus-station/weave-terminal"
    region: "nexus"
    faction: "the-anchorate"
    secondary_faction: "architects-legacy"
    disposition_default: "neutral"
    anchorate_rank: "Lodestone Emeritus (Foundation)"
    services:
      - "lore"
      - "history"
      - "cryptic_hints"
      - "reality_questions"
    tags:
      - "mysterious"
      - "lore"
      - "entity"
      - "architects"
      - "anchorate"
      - "foundation"
    has_profile: true
    profile_priority: "core"
    notes: "Nature unknown - may not be a traditional NPC. Last surviving Foundation of the Anchorate."

  keeper-resonance:
    name: "Keeper Resonance"
    role: "Anchorate Liaison"
    default_location: "nexus-station/weave-terminal"
    region: "nexus"
    faction: "the-anchorate"
    disposition_default: "neutral"
    anchorate_rank: "Pattern-Witness"
    services:
      - "explain_ranks"
      - "direct_to_claims"
      - "grant_thread_reader"
      - "answer_witnessing_questions"
    tags:
      - "anchorate"
      - "tutorial"
      - "reviews"
      - "faction_liaison"
    has_profile: true
    profile_priority: "core"
    notes: "Primary point of contact for Weavers seeking to join the Anchorate"

  commander-steele:
    name: "Commander Steele"
    role: "Quest Board Administrator"
    default_location: "nexus-station/guild-hall"
    region: "nexus"
    faction: "guild-authority"
    disposition_default: "professional"
    services:
      - "quest_assignment"
      - "bounties"
      - "mission_briefings"
      - "rank_advancement"
    tags:
      - "authority"
      - "military"
      - "quests"
      - "strict"
    has_profile: true
    profile_priority: "core"

  # --- SYNTAX ATHENAEUM ---
  # (placeholder for future NPCs)

  # --- THE RUSTLANDS ---
  # (placeholder for future NPCs)

  # --- LUMINA CITY ---

  madame-ling:
    name: "Madame Ling"
    role: "Restaurateur / Memory Broker"
    default_location: "lumina-city/jade-dragon"
    region: "lumina"
    faction: "independents"
    disposition_default: "neutral"
    services:
      - "food"
      - "drinks"
      - "memories"
      - "jobs"
      - "information"
    tags:
      - "merchant"
      - "information"
      - "memory_broker"
      - "quest_giver"
      - "artifact_collector"
    has_profile: false
    profile_priority: "generated"

  vance-corren:
    name: "Vance Corren"
    role: "Veteran / Grieving Father"
    default_location: "lumina-city/chromedome"
    region: "lumina"
    faction: "independents"
    disposition_default: "neutral"
    services: []
    tags:
      - "veteran"
      - "father"
      - "grief"
      - "architect_connection"
      - "yara_corren"
    has_profile: true
    profile_priority: "player-created"
    notes: "Father of Yara Corren, who vanished 43 years ago hunting Architect 03. Gave Coda her coordinates."
    created_by: "matt-davison"

  # --- VOID-POCKETS / THE FOLD ---

  nev-the-fray:
    name: "Nev"
    role: "Fold Inhabitant"
    entity_type: "fray"
    default_location: "the-fold"
    region: "between"
    faction: "void-native"
    disposition_default: "curious"
    services: []
    tags:
      - "void-entity"
      - "fray"
      - "non-verbal"
      - "alien"
      - "lonely"
      - "fold-network"
    has_profile: true
    profile_priority: "player-created"
    notes: "First documented Fray. Void-entity native to uncompiled space. Communicates through projected impressions. Discovered by Ichnor Nif."
    created_by: "matt-davison"
    created_character: "ichnor-nif"

  # --- THE ELDERWOOD ---
  # (placeholder for future NPCs)

  # --- LUMINA CITY UNDERLEVEL ---

  dr-tomas-hale:
    name: "Dr. Tomas Hale"
    role: "Data Archaeologist (Missing)"
    default_location: "lumina-city/underlevel-deep-ruins"
    region: "lumina"
    faction: "independents"
    disposition_default: "frightened"
    services: []
    tags:
      - "archaeologist"
      - "missing_person"
      - "quest_npc"
      - "first_server"
    has_profile: true
    profile_priority: "player-created"
    notes: "One of three archaeologists who went missing in the Underlevel. Found alive by Sable Vex."
    created_by: "matt-davison"
    created_character: "sable-vex"

  # --- THE UNDERCRYPT ---

  skex:
    name: "Skex"
    role: "Data-Runner (fugitive)"
    default_location: "undercrypt-bone-market"  # Currently fleeing
    region: "undercrypt"
    faction: "independents"
    disposition_default: "nervous"
    services: []  # Not a service NPC
    tags:
      - "data-runner"
      - "fugitive"
      - "skolma-user"
      - "quest-giver"
      - "potential-romance"
    has_profile: true
    profile_priority: "player-created"
    notes: "Created during Zynita Darkblade's first session. Being hunted by Pale Circuit."
    created_by: "matt-davison"

  keeper-of-echoes:
    name: "The Keeper of Echoes"
    role: "Memory Pool Guardian"
    default_location: "undercrypt/memory-pools"
    region: "undercrypt"
    faction: "architects-legacy"
    disposition_default: "neutral"
    services:
      - "pool_scrying"
      - "information"
    tags:
      - "mysterious"
      - "lore"
      - "entity"
      - "architects"
      - "memory"
      - "intangible"
    has_profile: true
    profile_priority: "player-created"
    notes: "Fragment of Architect consciousness. Witnessed the Third Architect's departure. Has connection to the Guardian."
    created_by: "matt-davison"

# === FACTION DEFINITIONS ===
factions:
  void-native:
    name: "Void Natives"
    description: "Entities native to uncompiled space — the gaps between rendered reality. Predate the Architects."
    disposition_modifier: 0

  the-anchorate:
    name: "The Anchorate"
    description: "Ancient order of reality validators who witness and anchor changes to the Weave"
    disposition_modifier: 0
    lore_file: "world/factions/anchorate.md"
    headquarters: "Anchor Sanctum, Weave Terminal, Nexus Station"
    public_liaison: "keeper-resonance"

  architects-legacy:
    name: "The Architect's Legacy"
    description: "Those connected to or created by the original Architects"
    disposition_modifier: 0

  independents:
    name: "Independents"
    description: "Unaffiliated with major factions"
    disposition_modifier: 0

  merchant-guild:
    name: "The Merchant Guild"
    description: "Trade and commerce faction"
    disposition_modifier: 0

  guild-authority:
    name: "Guild Authority"
    description: "Official quest and bounty administration"
    disposition_modifier: 0

# === PROFILE GENERATION TRIGGERS ===
# Conditions under which NPC profiles are generated/enriched
profile_triggers:
  interaction_threshold: 3  # interactions before profile generation
  quest_involvement: true   # generate if NPC involved in quest
  combat_encounter: true    # generate if player fights NPC
  standing_threshold: 5     # generate if standing reaches ±5
  player_request: true      # generate if player tries to learn about NPC

# === UTILITIES ===
disposition_map:
  hostile: [-10, -6]
  unfriendly: [-5, -3]
  neutral: [-2, 2]
  friendly: [3, 5]
  close: [6, 8]
  devoted: [9, 10]

# === ADDING NEW NPCS ===
# To add a new NPC:
# 1. Add entry to this file with basic info
# 2. Optionally create profile in profiles/<npc-id>.yaml
# 3. Add schedule in schedules/index.yaml if they move around
# 4. Earn XP based on NPC depth and quality
