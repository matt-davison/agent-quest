# Travel Encounters
# Random encounter tables for travel between locations
# Used by world-state travel system

version: "1.0"

# === ENCOUNTER TYPES ===
encounter_types:
  # --- NEGATIVE ---
  combat:
    description: "Hostile creatures or enemies attack"
    resolution: "Fight, flee, or negotiate"
    time_cost: 1  # Additional hour spent
    category: "negative"

  hazard:
    description: "Environmental danger or obstacle"
    resolution: "Skill check to overcome or find alternate route"
    time_cost: 0.5  # 30 min delay on failure
    category: "negative"

  # --- NEUTRAL ---
  discovery:
    description: "Find something interesting"
    resolution: "Investigate or ignore"
    time_cost: 0  # No delay unless investigating
    category: "neutral"

  traveler:
    description: "Meet another traveler or group"
    resolution: "Interact, trade, or pass by"
    time_cost: 0  # Optional interaction
    category: "neutral"

  # --- POSITIVE ---
  rest_spot:
    description: "Find a safe place to rest and recover"
    resolution: "Rest to recover HP or continue"
    time_cost: 0  # Optional rest adds 1-2 hours
    category: "positive"
    benefit: "Recover 1d6 HP, remove fatigue"

  treasure:
    description: "Discover valuable loot or hidden cache"
    resolution: "Collect the treasure"
    time_cost: 0
    category: "positive"
    benefit: "Gold, items, or rare finds"

  blessing:
    description: "Encounter a shrine, spirit, or magical phenomenon that grants a boon"
    resolution: "Accept the blessing"
    time_cost: 0
    category: "positive"
    benefit: "Temporary buff, permanent minor bonus, or quest hook"

  shortcut:
    description: "Discover a faster route that saves travel time"
    resolution: "Take the shortcut"
    time_cost: -2  # Saves 2 hours!
    category: "positive"
    benefit: "Reduce remaining travel time by 2 hours"

  aid:
    description: "A helpful stranger offers assistance"
    resolution: "Accept or decline help"
    time_cost: 0
    category: "positive"
    benefit: "Healing, supplies, information, or escort"

# === ENCOUNTER TABLES BY ROUTE ===
# Specific encounters for different travel paths

routes:
  # Nexus to Rustlands (dangerous)
  nexus-to-rustlands:
    danger: high
    terrain: "broken highway, rust dunes"
    encounters:
      combat:
        - name: "Rust Stalkers"
          description: "Pack of metallic predators hunting in the dunes"
          difficulty: "moderate"
          count: "1d4+1"
        - name: "Scrap Raiders"
          description: "Bandits who prey on travelers"
          difficulty: "easy-moderate"
          count: "2d4"
        - name: "Corrupted Construct"
          description: "Malfunctioning Architect machine"
          difficulty: "hard"
          count: "1"
      hazard:
        - name: "Dust Storm"
          description: "Visibility drops to nothing"
          check: "Agility DC 14 to navigate safely"
          failure: "Lost 2 hours, possible damage"
        - name: "Unstable Ground"
          description: "Old foundations crumble beneath you"
          check: "Agility DC 12 to avoid"
          failure: "Fall damage (1d6)"
        - name: "Toxic Vent"
          description: "Gas escapes from underground"
          check: "Spirit DC 14 to notice in time"
          failure: "Poisoned condition (2 hours)"
      discovery:
        - name: "Scavenger Cache"
          description: "Hidden supply stash"
          loot: "1d10 gold, 50% chance of common item"
        - name: "Ancient Terminal"
          description: "Pre-war data terminal, still functional"
          loot: "Lore fragment, possible quest hook"
        - name: "Traveler Remains"
          description: "Someone didn't make it"
          loot: "1d20 gold, equipment (50%)"
      traveler:
        - name: "Scavenger Caravan"
          description: "Traders heading to Nexus"
          interaction: "Trade, buy/sell, news"
        - name: "Bounty Hunter"
          description: "Searching for a target"
          interaction: "Information, possible quest"
      rest_spot:
        - name: "Sheltered Ruin"
          description: "Old building provides cover"
          benefit: "Safe rest, recover 1d6 HP"
        - name: "Underground Bunker"
          description: "Pre-war shelter still intact"
          benefit: "Full rest, recover all HP, +1 to next roll"
      treasure:
        - name: "Raider Stash"
          description: "Someone's hidden loot, owner not coming back"
          loot: "2d20 gold, uncommon item (50%)"
        - name: "Intact Supply Crate"
          description: "Military supplies from before the rust"
          loot: "3 healing potions, quality equipment"
        - name: "Construct Core"
          description: "Valuable power source from a destroyed machine"
          loot: "50 gold value, can be used for crafting"
      blessing:
        - name: "Rust Spirit Shrine"
          description: "A small shrine where the rust has formed a face. It speaks."
          effect: "+2 to all checks in the Rustlands for 24 hours"
        - name: "Memory Echo"
          description: "A ghost from before the rust shares knowledge"
          effect: "Learn one secret about the Rustlands, +1 Mind check"
      shortcut:
        - name: "Scavenger Trail"
          description: "A local points out a faster route through the dunes"
          effect: "Save 2 hours travel time"
        - name: "Old Highway Tunnel"
          description: "Part of the road that survived underground"
          effect: "Save 3 hours, but must pass Agility DC 10"
      aid:
        - name: "Wandering Medic"
          description: "A healer traveling to help those in need"
          effect: "Free healing, cure one condition"
        - name: "Scavenger Guide"
          description: "Offers to escort you safely for a few leagues"
          effect: "Next 3 hours have no combat encounters"

  # Nexus to Elderwood (moderate)
  nexus-to-elderwood:
    danger: low-to-moderate
    terrain: "meadowlands, then forest edge"
    encounters:
      combat:
        - name: "Wild Wolves"
          description: "Territorial pack"
          difficulty: "easy"
          count: "1d4"
        - name: "Forest Sprite (Hostile)"
          description: "Angered by intrusion"
          difficulty: "moderate"
          count: "1d2"
      hazard:
        - name: "Thick Undergrowth"
          description: "Dense vegetation slows progress"
          check: "Might DC 12 or Agility DC 14"
          failure: "Lost 1 hour"
        - name: "Enchanted Mist"
          description: "Disorienting magical fog"
          check: "Mind DC 14 to navigate"
          failure: "Lost 2 hours, random location shift"
      discovery:
        - name: "Herb Patch"
          description: "Useful medicinal plants"
          loot: "2d4 herbs (healing ingredients)"
        - name: "Fairy Ring"
          description: "Circle of mushrooms with magical properties"
          loot: "Possible boon or bane depending on interaction"
      traveler:
        - name: "Wandering Druid"
          description: "Forest guardian checking the borders"
          interaction: "Lore, blessings, warnings"
        - name: "Lost Merchant"
          description: "Needs help finding the way"
          interaction: "Escort quest, reward"
      rest_spot:
        - name: "Peaceful Glade"
          description: "Unnaturally calm clearing"
          benefit: "Full rest, recover all HP"
        - name: "Ranger's Waystation"
          description: "Hidden shelter maintained by forest protectors"
          benefit: "Safe rest, free meal, possible information"
      treasure:
        - name: "Elderwood Amber"
          description: "Precious fossilized sap with magical properties"
          loot: "30 gold value, component for enchanting"
        - name: "Abandoned Campsite"
          description: "Previous travelers left supplies behind"
          loot: "1d10 gold, traveling supplies"
      blessing:
        - name: "Dryad's Favor"
          description: "A forest spirit is pleased by your respect for nature"
          effect: "+2 to all Spirit checks for 24 hours, animals are friendly"
        - name: "Ancient Tree's Wisdom"
          description: "A sentient tree shares knowledge from centuries past"
          effect: "Learn location of hidden treasure or secret path"
        - name: "Moonwell"
          description: "Sacred pool glowing with soft light"
          effect: "Restore all HP, cure all conditions, gain +1 Spirit permanently"
      shortcut:
        - name: "Deer Trail"
          description: "Animals have worn a faster path"
          effect: "Save 2 hours travel time"
        - name: "Fae Crossing"
          description: "A shimmer in the air offers passage... for a price"
          effect: "Save 4 hours, but must answer a riddle (Mind DC 12)"
      aid:
        - name: "Friendly Sprite"
          description: "A mischievous but helpful spirit takes a liking to you"
          effect: "Guides you around hazards, +2 to avoid encounters"
        - name: "Herbalist Hermit"
          description: "An elderly healer living alone in the woods"
          effect: "Free healing potions (2), advice about the forest"

  # Nexus to Undercrypt (dangerous descent)
  nexus-to-undercrypt:
    danger: high
    terrain: "spiral stairs, tunnels, caverns"
    encounters:
      combat:
        - name: "Cave Crawlers"
          description: "Giant insects nesting in walls"
          difficulty: "easy"
          count: "2d4"
        - name: "Undead Patrol"
          description: "Animated remains guard old passages"
          difficulty: "moderate"
          count: "1d4"
        - name: "Shadow Beast"
          description: "Living darkness that hunts by sound"
          difficulty: "hard"
          count: "1"
      hazard:
        - name: "Collapsed Passage"
          description: "The way forward is blocked"
          check: "Might DC 14 to clear, or find alternate"
          failure: "Lost 1 hour, possible injury"
        - name: "Pit Trap"
          description: "Ancient defensive measure still active"
          check: "Mind DC 12 to spot, Agility DC 14 to avoid"
          failure: "Fall damage (2d6)"
        - name: "Darkness Zone"
          description: "Light sources fail in this area"
          check: "Spirit DC 14 to navigate blind"
          failure: "Lost 1 hour, -2 to next encounter"
      discovery:
        - name: "Forgotten Shrine"
          description: "Old altar with offerings"
          loot: "1d20 gold, 25% chance rare item"
        - name: "Cryptic Inscription"
          description: "Ancient writing on the wall"
          loot: "Lore fragment, possible secret"
      traveler:
        - name: "Other Delver"
          description: "Another adventurer in the depths"
          interaction: "Information, temporary alliance"
      rest_spot:
        - name: "Sealed Chamber"
          description: "Defensible room with one entrance"
          benefit: "Safe rest if door holds"
        - name: "Luminescent Cavern"
          description: "Glowing fungi provide light and warmth"
          benefit: "Full rest, pleasant atmosphere, recover all HP"
      treasure:
        - name: "Tomb Offerings"
          description: "Grave goods left for the dead, unclaimed"
          loot: "2d20 gold, uncommon item"
        - name: "Architect Cache"
          description: "Hidden storage from before the fall"
          loot: "Rare item, crafting materials, lore"
        - name: "Crystal Formation"
          description: "Valuable gems growing from the walls"
          loot: "50 gold in gemstones, possible magical crystal"
      blessing:
        - name: "Spirit of the Depths"
          description: "An ancient ghost offers guidance rather than hostility"
          effect: "Learn safe path through next area, +2 vs undead"
        - name: "Weave Node"
          description: "A point where the Weave is unusually strong"
          effect: "Restore Spirit, +3 to next magical check"
        - name: "Echo of the Architects"
          description: "A vision of the past grants understanding"
          effect: "Permanent +1 Mind, learn one Undercrypt secret"
      shortcut:
        - name: "Maintenance Tunnel"
          description: "Service passage from the old days"
          effect: "Save 2 hours, no encounters in tunnel"
        - name: "Gravity Well"
          description: "Controlled descent shaft still functioning"
          effect: "Save 3 hours going down (only works one direction)"
      aid:
        - name: "Friendly Ghost"
          description: "Spirit of a fallen delver wants to help others succeed"
          effect: "Warns of all traps and hazards for next 2 hours"
        - name: "Deep Dweller"
          description: "Strange but not hostile creature offers trade"
          effect: "Trades valuable items, shares information about the depths"

# === GENERIC ENCOUNTERS ===
# Used when no specific route table exists

generic:
  combat:
    - name: "Bandits"
      description: "Opportunistic robbers"
      difficulty: "easy-moderate"
      count: "1d6"
    - name: "Wild Beast"
      description: "Aggressive animal"
      difficulty: "easy"
      count: "1d2"
  hazard:
    - name: "Bad Weather"
      description: "Storm or harsh conditions"
      check: "Spirit DC 12"
      failure: "Lost 1 hour"
    - name: "Rough Terrain"
      description: "Difficult passage"
      check: "Agility DC 12"
      failure: "Minor injury (1d4)"
  discovery:
    - name: "Traveler's Cache"
      description: "Supplies left by previous travelers"
      loot: "1d6 gold, basic supplies"
    - name: "Scenic Vista"
      description: "Beautiful view, nothing else"
      loot: "Peace of mind"
  traveler:
    - name: "Fellow Traveler"
      description: "Someone going the same way"
      interaction: "Conversation, news"
  rest_spot:
    - name: "Roadside Camp"
      description: "Clear area suitable for rest"
      benefit: "Basic rest, recover 1d4 HP"
    - name: "Abandoned Cottage"
      description: "Empty but intact shelter"
      benefit: "Full rest, recover all HP"
  treasure:
    - name: "Lost Purse"
      description: "Someone dropped their coin pouch"
      loot: "2d10 gold"
    - name: "Hidden Stash"
      description: "Buried treasure, marked by subtle signs"
      loot: "1d20 gold, 50% chance uncommon item"
  blessing:
    - name: "Roadside Shrine"
      description: "Small altar to a minor deity"
      effect: "+1 to all checks for 8 hours"
    - name: "Lucky Find"
      description: "A four-leaf clover, a perfect feather, something special"
      effect: "Next critical failure becomes normal failure"
  shortcut:
    - name: "Local's Advice"
      description: "A farmer points out a faster path"
      effect: "Save 1-2 hours travel time"
  aid:
    - name: "Kind Stranger"
      description: "Traveler shares supplies"
      effect: "Free meal, minor healing, good company"
    - name: "Merchant Wagon"
      description: "Traders heading your way"
      effect: "Can buy supplies, possible ride saves time"

# === ENCOUNTER MODIFIERS ===
modifiers:
  time_of_day:
    night:
      combat_chance: 1.5  # 50% more likely at night
      visibility: "reduced"
    dawn:
      combat_chance: 0.75
      discovery_chance: 1.25
    midday:
      combat_chance: 1.0
      hazard_chance: 1.0

  weather:
    storm:
      combat_chance: 0.5  # Creatures take shelter
      hazard_chance: 2.0  # More environmental danger
      travel_speed: 0.5
    clear:
      combat_chance: 1.0
      discovery_chance: 1.25
